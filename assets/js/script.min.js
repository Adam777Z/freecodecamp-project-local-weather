document.addEventListener("DOMContentLoaded",e=>{var t="C";navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){fetch("https://weather-proxy.freecodecamp.rocks/api/current?lat="+e.coords.latitude+"&lon="+e.coords.longitude,{method:"GET"}).then(e=>{if(e.ok)return e.json();throw"Error"}).then(e=>{document.querySelector("#location").textContent=e.name+", "+e.sys.country,document.querySelector("#temperature").textContent=Math.round(parseInt(e.main.temp,10)),document.querySelector("#temperature").insertAdjacentText("afterend"," Â°"),document.querySelector("#unit").textContent=t,document.querySelector("#description").innerHTML='<img src="'+e.weather[0].icon+'">'+e.weather[0].main}).catch(e=>{console.log(e)})}),document.querySelector("#unit").addEventListener("click",e=>{e.preventDefault();let n=document.querySelector("#temperature").textContent;"C"==t?(t="F",document.querySelector("#temperature").textContent=Math.round(1.8*parseInt(n,10)+32),document.querySelector("#unit").textContent=t):"F"==t&&(t="C",document.querySelector("#temperature").textContent=Math.round((parseInt(n,10)-32)*(5/9)),document.querySelector("#unit").textContent=t)})});